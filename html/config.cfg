\Preamble{xhtml,mathjax}
\catcode`\:=11
% wrap \[...\]
\Configure{[]}{\ifvmode\IgnorePar\fi\EndP\HCode{<div class="mathjax">}\:HandleMathjaxCatcodes\catcode`\&=11\AltlDisplay}{\:RestoreMathjaxCatcodes\HCode{</div>}}
% wrap $...$
\Configure{$}{\HCode{<span class="mathjax">}\:HandleMathjaxCatcodes}{\:RestoreMathjaxCatcodes\HCode{</span>}}{\expandafter\AltMathOne}
% wrap $$...$$
\Configure{$$}{\ifvmode\IgnorePar\fi\EndP\HCode{<div class="mathjax">}\:HandleMathjaxCatcodes}{\:RestoreMathjaxCatcodes\HCode{</div>}}{\expandafter\AltlDisplayDollars}
% wrap \( ... \)
\Configure{()}{\HCode{<span class="mathjax">}\:HandleMathjaxCatcodes\catcode`\&=11\AltlMath}{\:RestoreMathjaxCatcodes\HCode{</span>}}
\makeatletter
% wrap AMS-like display environments; adds the environment name as a class
\renewcommand\VerbMathToks[2]{%
  \ifvmode\IgnorePar\fi\EndP\HCode{<div class="mathjax \@currenvir">}%
    \alteqtoks{\begin{#2}#1\end{#2}}%
  \HCode{</div>}%
}
\makeatother
\catcode`\:=12
\begin{document}
\renewcommand\eqref[1]{\NoFonts\HChar{92}eqref\{\detokenize{#1}\}\EndNoFonts}
\EndPreamble